window.define("HasLayoutWatcher",["EventUtils",window.withFallback],function(e,f){function b(a){this.b=a.timeout;this.f=a.trigger;this.target=a.target;this.e=(new Date).getTime();this.a=f(this.a,this);this.a()}var c=e.trigger;b.prototype.a=function(){var a=this.c();if(this.d())c(this.f,!0,a);else{if(a>this.b){c("dra-visibility-polling-timeout",!0,a);var b="dra-cannot-compute";if(window&&window.getComputedStyle){var d=window.getComputedStyle(this.target);d&&(b=d.display)}a=JSON.stringify({url:document.URL,
documentClientWidth:document.clientWidth,documentClientHeight:document.clientHeight,computedDisplay:b,timeoutLimitMs:this.b,totalPollingTimeMs:a,clientWidth:this.target.clientWidth,clientHeight:this.target.clientHeight,classes:this.target.className});throw Error("dnnw:timeout (Debug data: "+a+")");}setTimeout(this.a,50)}};b.prototype.d=function(){return 0<this.target.clientWidth&&0<this.target.clientHeight};b.prototype.c=function(){return(new Date).getTime()-this.e};return{pollUntilHasLayout:function(a){if(!a.timeout)throw Error("dnnw:no-timeout");
if(!a.trigger)throw Error("dnnw:no-trigger");if(!a.target)throw Error("dnnw:no-target");new b(a)}}});